datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

enum UserRole {
    ADMIN
    USER
}

model User {
    id           String    @id @default(cuid()) @map("_id")
    name         String?
    username     String?   @unique
    email        String?   @unique
    image        String? // image url
    password     String?
    role         UserRole  @default(USER)
    user_phone   String?
    user_address String?
    user_birth   DateTime?
    wage_rate    Float?    @default(1.0)
    user_deleted Boolean?  @default(false)
    user_status  String?   @default("active")
    account      Account?
    createAt     DateTime  @default(now())
    updateAt     DateTime  @updatedAt
    //   Staff_Position  Staff_Position? @relation(fields: [staff_position], references: [staff_position_id])
    //   Order           Order[]
    //   Spending        Spending[]
}

model Account {
    id                String   @id @default(cuid()) @map("_id")
    userId            String   @unique
    type              String
    provider          String
    providerAccountId String
    refresh_token     String?
    access_token      String?
    expires_at        Int?
    token_type        String?
    scope             String?
    id_token          String?
    session_state     String?
    acount_deleted    Boolean? @default(false)
    createAt          DateTime @default(now())
    updateAt          DateTime @updatedAt

    user User? @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@unique([provider, providerAccountId])
}

model Product {
    product_id      String   @id @default(cuid()) @map("_id")
    product_name    String
    product_price   Float?
    product_image   String?
    product_desc    String?
    product_type    String?
    product_deleted Boolean? @default(false)
    createAt        DateTime @default(now())
    updateAt        DateTime @updatedAt

    Product_Type Product_Type? @relation(fields: [product_type], references: [product_type_id])
}

model Product_Type {
    product_type_id      String   @id @default(cuid()) @map("_id")
    product_type_name    String
    product_type_desc    String?
    product_type_deleted Boolean? @default(false)

    createAt     DateTime  @default(now())
    updateAt     DateTime  @updatedAt
    product_type Product[]
}

model Table_Status {
    table_status_id      String   @id @default(cuid()) @map("_id")
    table_status_name    String
    table_status_desc    String?
    table_status_deleted Boolean? @default(false)
    Table                Table[]
    createAt             DateTime @default(now())
    updateAt             DateTime @updatedAt
}

model Table {
    table_id      String   @id @default(cuid()) @map("_id")
    table_name    String
    table_desc    String?
    table_status  String
    table_deleted Boolean? @default(false)
    createAt      DateTime @default(now())
    updateAt      DateTime @updatedAt

    Table_Status Table_Status? @relation(fields: [table_status], references: [table_status_id])
}

model Customer {
    customer_id      String  @id @default(cuid()) @map("_id")
    customer_name    String
    customer_phone   String?
    customer_email   String?
    customer_address String?
    customer_point   Int     @default(0)

    customer_deleted Boolean? @default(false)
    createAt         DateTime @default(now())
    updateAt         DateTime @updatedAt
}
